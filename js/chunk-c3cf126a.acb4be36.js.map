{"version":3,"sources":["webpack:///./src/views/device.vue?f6b9","webpack:///src/views/device.vue","webpack:///./src/views/device.vue?a973","webpack:///./src/views/device.vue?d16f","webpack:///./src/views/device.vue?84e3"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","eqp","humiditySet","_m","temperature1","class","status","on","click","$event","eqp_status","eqp_fanSpeed","fanSpeed","_e","eqp_fanSpeed_auto","fanSpeed_auto","staticRenderFns","devicevue_type_script_lang_js_","name","data","Mqtt","fanSpeed_last","humiditySet_last","humidity","airFilter","temperature2","errorCode","slaveNo","created","_this","Mqtt_dev","yxMqtt","hostname","options","username","password","clientId","topic","sub","pub","arrived","res","console","log","desired","message","compute_arrrived_data","error","err","mqttParam","startSub","publish","methods","reported","error_text","$toast","duration","timing","timing_pub","timing_on","timing_start_hour","timing_start_min","timing_end_hour","timing_end_min","toast_text","payload","val","beforeDestroy","destroyed","closeSub","views_devicevue_type_script_lang_js_","component","Object","componentNormalizer","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_device_vue_vue_type_style_index_0_id_0cebb746_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_device_vue_vue_type_style_index_0_id_0cebb746_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-c3cf126a.acb4be36.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"device_page\"},[_c('div',[_c('div',{staticClass:\"house\"},[_c('i',{staticClass:\"iconfont icon-fangzi\"}),_c('div',{staticClass:\"msg\"},[_c('div',{staticClass:\"hum\"},[_c('span',{staticClass:\"val\"},[_vm._v(_vm._s(_vm.eqp.humiditySet))]),_vm._m(0)]),_c('div',{staticClass:\"tem\"},[_c('span',{staticClass:\"val\"},[_vm._v(_vm._s(_vm.eqp.temperature1))]),_vm._m(1)])])]),_c('ul',{staticClass:\"device_grid\"},[_c('li',{class:_vm.eqp.status ? '' : 'forbiden',on:{\"click\":function($event){_vm.eqp_status(_vm.eqp.status)}}},[_c('i',{staticClass:\"iconfont icon-kaiguan\"}),_c('span',{staticClass:\"text\"},[_vm._v(\"开\")])]),_c('li',{on:{\"click\":function($event){_vm.eqp_fanSpeed(_vm.eqp.fanSpeed)}}},[(_vm.eqp.fanSpeed == 1)?[_c('i',{staticClass:\"iconfont icon-yijifeng\"}),_c('span',{staticClass:\"text\"},[_vm._v(\"风速低\")])]:(_vm.eqp.fanSpeed == 2 || _vm.eqp.fanSpeed == 4)?[_c('i',{staticClass:\"iconfont icon-erjifeng\"}),_c('span',{staticClass:\"text\"},[_vm._v(\"风速中\")])]:(_vm.eqp.fanSpeed == 3)?[_c('i',{staticClass:\"iconfont icon-sanjifeng\"}),_c('span',{staticClass:\"text\"},[_vm._v(\"风速高\")])]:_vm._e()],2),_c('li',{on:{\"click\":function($event){_vm.eqp_fanSpeed_auto(_vm.eqp.fanSpeed_auto)}}},[(_vm.eqp.fanSpeed_auto)?[_c('i',{staticClass:\"iconfont icon-A\"}),_c('span',{staticClass:\"text\"},[_vm._v(\"自动\")])]:[_c('i',{staticClass:\"iconfont icon-M\"}),_c('span',{staticClass:\"text\"},[_vm._v(\"手动\")])]],2),_vm._m(2),_vm._m(3)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"iconfont icon-shidu\"}),_c('b',[_vm._v(\"%\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"iconfont icon-wendu\"}),_c('b',[_vm._v(\"℃\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('i',{staticClass:\"iconfont icon-neichushi\"}),_c('span',{staticClass:\"text\"},[_vm._v(\"内除湿\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('i',{staticClass:\"iconfont icon-shezhi\"}),_c('span',{staticClass:\"text\"},[_vm._v(\"设置\")])])}]\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"device_page\">\n        <div>\n            <div class=\"house\">\n                <i class=\"iconfont icon-fangzi\"></i>\n                <div class=\"msg\">\n                    <div class=\"hum\">\n                        <span class=\"val\">{{eqp.humiditySet}}</span>\n                        <span class=\"icon\">\n                            <i class=\"iconfont icon-shidu\"></i>\n                            <b>%</b>\n                        </span>\n                    </div>\n                    <div class=\"tem\">\n                        <span class=\"val\">{{eqp.temperature1}}</span>\n                        <span class=\"icon\">\n                            <i class=\"iconfont icon-wendu\"></i>\n                            <b>&#8451;</b>\n                        </span>\n                    </div>\n                </div>\n            </div>\n            <ul class=\"device_grid\">\n                <li @click=\"eqp_status(eqp.status)\" :class=\"eqp.status ? '' : 'forbiden'\">\n                    <i class=\"iconfont icon-kaiguan\"></i>\n                    <span class=\"text\">开</span>\n                </li>\n                <li @click=\"eqp_fanSpeed(eqp.fanSpeed)\">\n                    <template v-if=\"eqp.fanSpeed == 1\">\n                        <i class=\"iconfont icon-yijifeng\"></i>\n                        <span class=\"text\">风速低</span>\n                    </template>\n                    <template v-else-if=\"eqp.fanSpeed == 2 || eqp.fanSpeed == 4\">\n                        <i class=\"iconfont icon-erjifeng\"></i>\n                        <span class=\"text\">风速中</span>\n                    </template>\n                    <template v-else-if=\"eqp.fanSpeed == 3\">\n                        <i class=\"iconfont icon-sanjifeng\"></i>\n                        <span class=\"text\">风速高</span>\n                    </template>\n                    <!-- <template v-else>\n                        <i class=\"iconfont icon-wufeng\"></i>\n                        <span class=\"text\">风速关</span>\n                    </template> -->\n                </li>\n                <li @click=\"eqp_fanSpeed_auto(eqp.fanSpeed_auto)\">\n                    <template v-if=\"eqp.fanSpeed_auto\">\n                        <i class=\"iconfont icon-A\"></i>\n                        <span class=\"text\">自动</span>\n                    </template>\n                    <template v-else>\n                        <i class=\"iconfont icon-M\"></i>\n                        <span class=\"text\">手动</span>\n                    </template>\n                </li>\n                <li>\n                    <i class=\"iconfont icon-neichushi\"></i>\n                    <span class=\"text\">内除湿</span>\n                </li>\n                <li>\n                    <i class=\"iconfont icon-shezhi\"></i>\n                    <span class=\"text\">设置</span>\n                </li>\n            </ul>\n        </div>\n    </div>\n</template>\n\n<script>\n    import yxMqtt from \"@/utils/yxMqtt\";\n\n    export default {\n        name: 'Device',\n        data() {\n            return {\n                // mqtt \n                Mqtt: null,\n                // 页面 功能\n                eqp: {\n                    status: 1,\n                    fanSpeed_auto: false,\n                    fanSpeed_last: 1,\n                    fanSpeed: 1,\n                    humiditySet_last: 0,\n                    humiditySet: 80,\n                    humidity: 0,\n                    airFilter: 60,\n                    temperature1: 18,\n                    temperature2: 0,\n                    errorCode: 0,\n                    slaveNo: null,\n                },\n            }\n        },\n        created() {\n            let _this = this;\n            let Mqtt_dev = new yxMqtt({\n                hostname: 'wss://13xt3d9.mqtt.iot.gz.baidubce.com:8884/mqtt',\n                options: {\n                    username: '13xt3d9/gh_0ddfb722a565_c9edd422aafdc95f',\n                    password: 'xY9Y6MQUYdCvrnJK',\n                    clientId: 'gh_0ddfb722a565_c9edd422aafdc95f',\n                },\n                topic: {\n                    // sub: '$baidu/iot/shadow/gh_0ddfb722a565_c9edd422aafdc95f/update/accepted',\n                    sub: '$baidu/iot/shadow/gh_0ddfb722a565_c9edd422aafdc95f/delta',\n                    pub: '$baidu/iot/shadow/gh_0ddfb722a565_c9edd422aafdc95f/update',\n                },\n                arrived(res) {\n                    console.log(res);\n                    let desired = res.message.desired;\n                    _this.compute_arrrived_data(desired);\n                },\n                error(err) {\n                    console.log(err);\n                }\n            });\n            Mqtt_dev.mqttParam.options.clientId = 'gh_0ddfb722a565_c9edd422aafdc95f';\n            this.Mqtt_dev = Mqtt_dev;\n            this.Mqtt_dev.startSub();\n\n            this.publish('开机', {\n                \"status\": 1, // 开关机 状态\n                \"airFilter\": 1000, // 滤网 剩余 使用时间\n                \"errorCode\": 0, // 故障代码\n                \"fanSpeed\": 1, // 风速\n                \"humidity\": 80, // 当前湿度\n                \"humiditySet\": 80, // 设置 湿度\n                \"temperature1\": 18, // 当前 温度\n                \"temperature2\": 15, // 盘管 温度\n            });\n        },\n        methods: {\n            // 处理 接收到的 数据\n            compute_arrrived_data: function (reported) {\n                // console.log(reported);\n                if (('status' in reported) && 0 <= reported.status <= 1) { // 开关机 状态\n                    this.eqp.status = reported.status;\n                    this.publish(null, {\n                        \"status\": reported.status\n                    });\n                }\n                if ('fanSpeed' in reported && 1 <= reported.fanSpeed <= 4) { // 风速\n                    this.eqp.fanSpeed = reported.fanSpeed;\n                    this.eqp.fanSpeed_auto = reported.fanSpeed == 4 ? true : false;\n                    this.publish(null, {\n                        \"fanSpeed\": reported.fanSpeed\n                    });\n                }\n                if ('humiditySet' in reported && 0 <= reported.humiditySet <= 100) { // 设置 湿度\n                    this.eqp.humiditySet = reported.humiditySet;\n                    this.eqp.humiditySet_last = reported.humiditySet;\n                    this.publish(null, {\n                        \"humiditySet\": reported.humiditySet,\n                        \"humidity\": reported.humiditySet,\n                    });\n                }\n                if ('humidity' in reported) { // 当前湿度\n                    this.eqp.humidity = reported.humidity;\n                }\n                if ('airFilter' in reported) { // 滤网 剩余 使用时间\n                    this.eqp.airFilter = reported.airFilter;\n                }\n                if ('temperature1' in reported) { // 当前 温度\n                    this.eqp.temperature1 = reported.temperature1;\n                }\n                if ('temperature2' in reported) { // 盘管 温度\n                    this.eqp.temperature2 = reported.temperature2;\n                }\n                if ('errorCode' in reported) { // 故障代码\n                    // return false;\n                    var errorCode = reported.errorCode\n                    this.eqp.errorCode = errorCode;\n                    if (errorCode == 0) {\n                        return false;\n                    }\n                    var error_text = '';\n                    switch (errorCode) {\n                        case 1:\n                            error_text = '盘管温度传感器故障（E1）';\n                            break;\n                        case 2:\n                            error_text = '湿度传感器故障（E2）';\n                            break;\n                        case 3:\n                            error_text = '排水保护故障（E0）';\n                            break;\n                        case 4:\n                            error_text = '低压报警（E4）';\n                            break;\n                        case 5:\n                            error_text = '高温报警，环境温度 > 41 &#8451;（E8）';\n                            break;\n                        default:\n                            error_text = '未知故障（' + errorCode + '）';\n                            break;\n                    }\n                    this.$toast({\n                        message: error_text,\n                        duration: 1500,\n                    });\n                }\n                if ('slaveNo' in reported) { // 从机 地址\n                    this.eqp.slaveNo = reported.slaveNo;\n                }\n\n                // 定时开关机 \n                if ('timing' in reported) {\n                    console.log('timing');\n                    let timing = reported.timing;\n                    let timing_pub = {\n                        \"timing_on\": timing.timing_on,\n                        \"timing_start_hour\": timing.timing_start_hour,\n                        \"timing_start_min\": timing.timing_start_min,\n                        \"timing_end_hour\": timing.timing_end_hour,\n                        \"timing_end_min\": timing.timing_end_min,\n                    }\n                    this.publish(null, {timing: timing_pub});\n                }\n            },\n            // 发送 数据\n            publish(toast_text, payload) {\n                if (this.eqp.status == 0 && !('status' in payload)) {\n                    this.$toast({\n                        message: '设备已关机',\n                        duration: 1000,\n                    });\n                    return false;\n                }\n                this.Mqtt_dev.publish({\n                    'reported': payload\n                });\n                if (toast_text != null) {\n                    this.$toast({\n                        message: toast_text,\n                        duration: 1000,\n                    });\n                }\n            },\n\n\n            // 开关机 \n            eqp_status(val) {\n                val = val == 1 ? 0 : 1;\n                let toast_text = val == 1 ? '开机' : '关机';\n                this.publish(toast_text, {\n                    \"status\": val\n                });\n                this.eqp.status = val;\n            },\n            // 设定 风速\n            eqp_fanSpeed(val) {\n                if (!this.eqp.status) return false;\n\n                var toast_text = '自动模式无法控制风速';\n                if (val != 4) {\n                    val = ++val > 3 ? 1 : val;\n                    toast_text = '风速 ' + val;\n                    this.publish(toast_text, {\n                        \"fanSpeed\": val\n                    });\n                    this.eqp.fanSpeed = val;\n                } else {\n                    this.$toast({\n                        message: toast_text,\n                        duration: 1000,\n                    });\n                }\n            },\n            // 设定 风机 自动\n            eqp_fanSpeed_auto(val) {\n                if (!this.eqp.status) return false;\n\n                // 是否 切换为 自动\n                this.eqp.fanSpeed_auto = !val;\n                this.eqp.fanSpeed = !val ? 4 : this.eqp.fanSpeed_last;\n                // console.log(this.eqp.fanSpeed_auto);\n                // console.log(this.eqp.fanSpeed);\n                if (!val) {\n                    // this.eqp.fanSpeed_last = this.eqp.fanSpeed;\n                    val = 4;\n                } else {\n                    val = this.eqp.fanSpeed_last;\n                }\n                let toast_text = val == 4 ? '自动' : '手动';\n                this.publish(toast_text, {\n                    \"fanSpeed\": val\n                });\n            },\n        },\n        beforeDestroy() {\n            this.publish('关机', {\n                'status': 0\n            });\n        },\n        destroyed() {\n            this.Mqtt_dev.closeSub();\n        }\n    }\n</script>\n\n<style scoped>\n    .device_page {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        height: 100%;\n        color: #fff;\n    }\n\n    .device_page>div {\n        display: flex;\n        flex-direction: column;\n        width: 100%;\n        height: 100vmin;\n        max-width: 600px;\n        max-height: 600px;\n        margin: 0;\n        /* background: #000; */\n\n        background: -webkit-radial-gradient(#165587, #2d4581, #383d7f);\n        /* Safari 5.1 - 6.0 */\n        background: -o-radial-gradient(#165587, #2d4581, #383d7f);\n        /* Opera 11.6 - 12.0 */\n        background: -moz-radial-gradient(#165587, #2d4581, #383d7f);\n        /* Firefox 3.6 - 15 */\n        background: radial-gradient(#165587, #2d4581, #383d7f);\n        /* 标准的语法 */\n    }\n\n    .house {\n        position: relative;\n        flex: 1;\n    }\n\n    .house>i.iconfont {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 100%;\n        height: 100%;\n        line-height: 100%;\n        text-align: center;\n        font-size: 5rem;\n    }\n\n    .house>.msg {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        width: 2rem;\n        height: 3rem;\n        transform: translate(-40%, -36%);\n    }\n\n    .house>.msg>div {\n        display: flex;\n        align-items: center;\n        padding: .2rem;\n    }\n\n    .house>.msg .val {\n        width: .8rem;\n        text-align: center;\n        color: rgb(153, 255, 0);\n        font-size: .5rem;\n    }\n\n    .house>.msg .icon {\n        display: flex;\n        width: .4rem;\n        text-align: center;\n        flex-direction: column;\n        font-size: .38rem;\n    }\n\n    .house>.msg .icon>i {\n        width: .4rem;\n        height: .4rem;\n        line-height: .4rem;\n        border-radius: 50%;\n        border: 1px solid rgba(255, 255, 255, .5);\n        font-size: .30rem;\n    }\n\n    .device_grid {\n        display: flex;\n    }\n\n    .device_grid>li {\n        flex: 1;\n        display: flex;\n        flex-wrap: wrap;\n        align-content: center;\n        padding: .1rem;\n    }\n\n    .device_grid>li.forbiden {\n        color: #aaa;\n    }\n\n    .device_grid>li>.iconfont,\n    .device_grid>li>.text {\n        width: 100%;\n        text-align: center;\n    }\n\n    .device_grid>li>.iconfont {\n        font-size: .5rem;\n    }\n\n    .device_grid>li>.text {\n        font-size: .30rem;\n    }\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./device.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./device.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./device.vue?vue&type=template&id=0cebb746&scoped=true&\"\nimport script from \"./device.vue?vue&type=script&lang=js&\"\nexport * from \"./device.vue?vue&type=script&lang=js&\"\nimport style0 from \"./device.vue?vue&type=style&index=0&id=0cebb746&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0cebb746\",\n  null\n  \n)\n\ncomponent.options.__file = \"device.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./device.vue?vue&type=style&index=0&id=0cebb746&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./device.vue?vue&type=style&index=0&id=0cebb746&scoped=true&lang=css&\""],"sourceRoot":""}